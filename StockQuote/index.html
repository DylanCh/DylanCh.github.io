<!DOCTYPE html>
<html>
  <head>
    <title>
      Welcome to Stock Quote App
    </title>
    <link rel="stylesheet" 
	      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
	      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
	    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
	integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	crossorigin="anonymous"></script>
    <script type="text/javascript">
      	var url = 'http://query.yahooapis.com/v1/public/yql';
	var startDate = new String("");
	var endDate = new String("");
// 	http://stackoverflow.com/questions/13458132/json-formatted-stock-quote-api-live-or-historical
	$(function () {
	   var bindDatePicker = function() {
			$(".date").datetimepicker({
		format:'YYYY-MM-DD',
				icons: {
					time: "fa fa-clock-o",
					date: "fa fa-calendar",
					up: "fa fa-arrow-up",
					down: "fa fa-arrow-down"
				}
			}).find('input:first').on("blur",function () {
				// check if the date is correct. We can accept dd-mm-yyyy and yyyy-mm-dd.
				// update the format if it's yyyy-mm-dd
				var date = parseDate($(this).val());
				if (! isValidDate(date)) {
					//create date based on momentjs (we have that)
					date = moment().format('YYYY-MM-DD');
				}
				$(this).val(date);
			});
		}
	   var isValidDate = function(value, format) {
			format = format || false;
			// lets parse the date to the best of our knowledge
			if (format) {
				value = parseDate(value);
			}
			var timestamp = Date.parse(value);
			return isNaN(timestamp) == false;
	   }
	   var parseDate = function(value) {
			var m = value.match(/^(\d{1,2})(\/|-)?(\d{1,2})(\/|-)?(\d{4})$/);
			if (m)
				value = m[5] + '-' + ("00" + m[3]).slice(-2) + '-' + ("00" + m[1]).slice(-2);
			return value;
	   }
	   bindDatePicker();
	 });
    </script>
  </head>
  <body>
    <div class="container">
	  <div class="row">
	    Date formats: yyyy-mm-dd, yyyymmdd, dd-mm-yyyy, dd/mm/yyyy, ddmmyyyyy
	  </div>
	  <br />
	    <div class="row">
		<div class='col-sm-3'>
		    <div class="form-group">
			<div class='input-group date' id='datetimepicker1'>
			    <input type='text' class="form-control" />
			    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
			    </span>
			</div>
		    </div>
		</div>
	    </div>
	</div>
  </body>
</html>
